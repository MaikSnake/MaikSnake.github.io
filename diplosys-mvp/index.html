<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiploSys MVP - Gestão de Processos Diplomáticos</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <button class="hamburger-menu" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <h1><i class="fas fa-globe"></i> DiploSys MVP</h1>
                </div>
            </div>
            <nav class="nav">
                <div class="notification-container">
                    <button class="nav-link notification-btn" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <div id="notifications-dropdown" class="notifications-dropdown hidden">
                        <div class="notification-header">
                            <h4>Notificações</h4>
                            <button onclick="markAllAsRead()" class="mark-read-btn">Marcar todas como lidas</button>
                        </div>
                        <div class="notifications-list">
                            <div class="notification-item unread">
                                <i class="fas fa-info-circle"></i>
                                <div>
                                    <p>Novo processo criado: Carteira Diplomática - França</p>
                                    <span class="notification-time">Há 5 min</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <p>Documento aprovado: Certidão Fiscal - Alemanha</p>
                                    <span class="notification-time">Há 1h</span>
                                </div>
                            </div>
                            <div class="notification-item">
                                <i class="fas fa-robot"></i>
                                <div>
                                    <p>Automação executada: Validação CPF/CNPJ</p>
                                    <span class="notification-time">Há 2h</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="user-menu-container">
                    <button class="nav-link user-menu-btn" onclick="toggleUserMenu()">
                        <i class="fas fa-user"></i>
                        <span>Admin</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="user-menu-dropdown" class="user-menu-dropdown hidden">
                        <a href="#" class="user-menu-item" onclick="showProfile()">
                            <i class="fas fa-user"></i>
                            Meu Perfil
                        </a>
                        <a href="#" class="user-menu-item" onclick="showUserSettings()">
                            <i class="fas fa-cog"></i>
                            Configurações
                        </a>
                        <div class="user-menu-divider"></div>
                        <a href="#" class="user-menu-item" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Sair
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container-main">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-link" data-page="processes">
                    <i class="fas fa-tasks"></i>
                    <span>Processos</span>
                </a>
                <a href="#" class="sidebar-link" data-page="documents">
                    <i class="fas fa-file-alt"></i>
                    <span>Documentos</span>
                </a>
                <a href="#" class="sidebar-link" data-page="automations">
                    <i class="fas fa-cogs"></i>
                    <span>Automações</span>
                </a>
                <a href="#" class="sidebar-link" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="sidebar-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Configurações</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <button class="btn btn--primary" onclick="openModal('process-modal')">
                        <i class="fas fa-plus"></i>
                        Novo Processo
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="total-processes">125</h3>
                            <p>Total de Processos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="pending-processes">23</h3>
                            <p>Pendentes</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="completed-processes">89</h3>
                            <p>Concluídos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon warning">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="active-automations">4</h3>
                            <p>Automações Ativas</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Status</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="statusChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card__header">
                            <h3>Últimos Processos</h3>
                        </div>
                        <div class="card__body">
                            <div class="recent-processes" id="recent-processes">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Processes Page -->
            <div id="processes" class="page">
                <div class="page-header">
                    <h2>Gestão de Processos</h2>
                    <button class="btn btn--primary" onclick="openModal('process-modal')">
                        <i class="fas fa-plus"></i>
                        Novo Processo
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <input type="text" class="form-control" id="process-search" placeholder="Buscar processos...">
                    <select class="form-control" id="process-status-filter">
                        <option value="">Todos os Status</option>
                        <option value="Em Andamento">Em Andamento</option>
                        <option value="Pendente">Pendente</option>
                        <option value="Concluído">Concluído</option>
                        <option value="Em Análise">Em Análise</option>
                    </select>
                    <select class="form-control" id="process-type-filter">
                        <option value="">Todos os Tipos</option>
                        <option value="Carteira Diplomática">Carteira Diplomática</option>
                        <option value="Visto">Visto</option>
                        <option value="Imunidade">Imunidade</option>
                        <option value="Registro">Registro</option>
                        <option value="Placa Diplomática">Placa Diplomática</option>
                    </select>
                </div>

                <!-- Processes Table -->
                <div class="card">
                    <div class="processes-table" id="processes-table">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Documents Page -->
            <div id="documents" class="page">
                <div class="page-header">
                    <h2>Gestão de Documentos</h2>
                    <button class="btn btn--primary" onclick="openModal('document-modal')">
                        <i class="fas fa-upload"></i>
                        Adicionar Documento
                    </button>
                </div>

                <!-- Documents Grid -->
                <div class="documents-grid" id="documents-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Automations Page -->
            <div id="automations" class="page">
                <div class="page-header">
                    <h2>Automações e Macros</h2>
                    <button class="btn btn--primary" onclick="openModal('automation-modal')">
                        <i class="fas fa-plus"></i>
                        Nova Automação
                    </button>
                </div>

                <!-- Automations Grid -->
                <div class="automations-grid" id="automations-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics" class="page">
                <div class="page-header">
                    <h2>Analytics e Relatórios</h2>
                    <button class="btn btn--secondary">
                        <i class="fas fa-download"></i>
                        Exportar Relatório
                    </button>
                </div>

                <!-- Analytics Charts -->
                <div class="analytics-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Mês</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Tipo</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="typeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h2>Configurações</h2>
                </div>

                <!-- Settings Content -->
                <div class="settings-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Usuários do Sistema</h3>
                        </div>
                        <div class="card__body">
                            <div class="users-list" id="users-list">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card__header">
                            <h3>Logs de Auditoria</h3>
                        </div>
                        <div class="card__body">
                            <div class="audit-logs">
                                <div class="log-entry">
                                    <span class="log-time">08/10/2025 10:30</span>
                                    <span class="log-action">Processo criado</span>
                                    <span class="log-user">Maria Silva</span>
                                </div>
                                <div class="log-entry">
                                    <span class="log-time">08/10/2025 09:15</span>
                                    <span class="log-action">Documento aprovado</span>
                                    <span class="log-user">João Santos</span>
                                </div>
                                <div class="log-entry">
                                    <span class="log-time">07/10/2025 16:45</span>
                                    <span class="log-action">Automação executada</span>
                                    <span class="log-user">Sistema</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Process Modal -->
    <div id="process-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Novo Processo</h3>
                <button class="modal-close" onclick="closeModal('process-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="process-form">
                    <div class="form-group">
                        <label class="form-label">Título do Processo</label>
                        <input type="text" class="form-control" id="process-title" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="process-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Carteira Diplomática">Carteira Diplomática</option>
                            <option value="Visto">Visto</option>
                            <option value="Imunidade">Imunidade</option>
                            <option value="Registro">Registro</option>
                            <option value="Placa Diplomática">Placa Diplomática</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Prioridade</label>
                        <select class="form-control" id="process-priority" required>
                            <option value="">Selecione a prioridade</option>
                            <option value="Alta">Alta</option>
                            <option value="Média">Média</option>
                            <option value="Baixa">Baixa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Responsável</label>
                        <select class="form-control" id="process-assignee" required>
                            <option value="">Selecione o responsável</option>
                            <option value="Maria Silva">Maria Silva</option>
                            <option value="João Santos">João Santos</option>
                            <option value="Ana Costa">Ana Costa</option>
                            <option value="Carlos Lima">Carlos Lima</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('process-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitProcess()">Criar Processo</button>
            </div>
        </div>
    </div>

    <!-- Document Modal -->
    <div id="document-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Documento</h3>
                <button class="modal-close" onclick="closeModal('document-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="document-form">
                    <div class="form-group">
                        <label class="form-label">Nome do Documento</label>
                        <input type="text" class="form-control" id="document-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="document-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Passaporte">Passaporte</option>
                            <option value="Credencial">Credencial</option>
                            <option value="Certidão">Certidão</option>
                            <option value="Contrato">Contrato</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Arquivo</label>
                        <input type="file" class="form-control" id="document-file" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('document-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitDocument()">Adicionar Documento</button>
            </div>
        </div>
    </div>

    <!-- Automation Modal -->
    <div id="automation-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Automação</h3>
                <button class="modal-close" onclick="closeModal('automation-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="automation-form">
                    <div class="form-group">
                        <label class="form-label">Nome da Automação</label>
                        <input type="text" class="form-control" id="automation-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="automation-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Validação">Validação</option>
                            <option value="Geração">Geração</option>
                            <option value="Notificação">Notificação</option>
                            <option value="Backup">Backup</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('automation-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitAutomation()">Criar Automação</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>