<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiploSys MVP - Gestão de Processos Diplomáticos</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <button class="hamburger-menu" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <h1><i class="fas fa-globe"></i> DiploSys MVP</h1>
                </div>
            </div>
            <nav class="nav">
                <div class="notification-container">
                    <button class="nav-link notification-btn" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <div id="notifications-dropdown" class="notifications-dropdown hidden">
                        <div class="notification-header">
                            <h4>Notificações</h4>
                            <button onclick="markAllAsRead()" class="mark-read-btn">Marcar todas como lidas</button>
                        </div>
                        <div class="notifications-list">
                            <div class="notification-item unread">
                                <i class="fas fa-info-circle"></i>
                                <div>
                                    <p>Novo processo criado: Carteira Diplomática - França</p>
                                    <span class="notification-time">Há 5 min</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <p>Documento aprovado: Certidão Fiscal - Alemanha</p>
                                    <span class="notification-time">Há 1h</span>
                                </div>
                            </div>
                            <div class="notification-item">
                                <i class="fas fa-robot"></i>
                                <div>
                                    <p>Automação executada: Validação CPF/CNPJ</p>
                                    <span class="notification-time">Há 2h</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="user-menu-container">
                    <button class="nav-link user-menu-btn" onclick="toggleUserMenu()">
                        <i class="fas fa-user"></i>
                        <span>Admin</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="user-menu-dropdown" class="user-menu-dropdown hidden">
                        <a href="#" class="user-menu-item" onclick="showProfile()">
                            <i class="fas fa-user"></i>
                            Meu Perfil
                        </a>
                        <a href="#" class="user-menu-item" onclick="showUserSettings()">
                            <i class="fas fa-cog"></i>
                            Configurações
                        </a>
                        <div class="user-menu-divider"></div>
                        <a href="#" class="user-menu-item" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Sair
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container-main">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-link" data-page="processes">
                    <i class="fas fa-tasks"></i>
                    <span>Processos</span>
                </a>
                <a href="#" class="sidebar-link" data-page="documents">
                    <i class="fas fa-file-alt"></i>
                    <span>Documentos</span>
                </a>
                <a href="#" class="sidebar-link" data-page="credenciamento">
                    <i class="fas fa-id-badge"></i>
                    <span>Credenciamento CRD</span>
                </a>
                <a href="#" class="sidebar-link" data-page="vehicles">
                    <i class="fas fa-car"></i>
                    <span>Veículos</span>
                </a>
                <a href="#" class="sidebar-link" data-page="automations">
                    <i class="fas fa-cogs"></i>
                    <span>Automações</span>
                </a>
                <a href="#" class="sidebar-link" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="sidebar-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Configurações</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <button class="btn btn--primary" onclick="openModal('process-modal')">
                        <i class="fas fa-plus"></i>
                        Novo Processo
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="total-processes">125</h3>
                            <p>Total de Processos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="pending-processes">23</h3>
                            <p>Pendentes</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="completed-processes">89</h3>
                            <p>Concluídos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon warning">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="active-automations">4</h3>
                            <p>Automações Ativas</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Status</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="statusChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card__header">
                            <h3>Últimos Processos</h3>
                        </div>
                        <div class="card__body">
                            <div class="recent-processes" id="recent-processes">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Processes Page -->
            <div id="processes" class="page">
                <div class="page-header">
                    <h2>Gestão de Processos</h2>
                    <button class="btn btn--primary" onclick="openModal('process-modal')">
                        <i class="fas fa-plus"></i>
                        Novo Processo
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <input type="text" class="form-control" id="process-search" placeholder="Buscar processos...">
                    <select class="form-control" id="process-status-filter">
                        <option value="">Todos os Status</option>
                        <option value="Em Andamento">Em Andamento</option>
                        <option value="Pendente">Pendente</option>
                        <option value="Concluído">Concluído</option>
                        <option value="Em Análise">Em Análise</option>
                    </select>
                    <select class="form-control" id="process-type-filter">
                        <option value="">Todos os Tipos</option>
                        <option value="Carteira Diplomática">Carteira Diplomática</option>
                        <option value="Visto">Visto</option>
                        <option value="Imunidade">Imunidade</option>
                        <option value="Registro">Registro</option>
                        <option value="Placa Diplomática">Placa Diplomática</option>
                    </select>
                </div>

                <!-- Processes Table -->
                <div class="card">
                    <div class="processes-table" id="processes-table">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Documents Page -->
            <div id="documents" class="page">
                <div class="page-header">
                    <h2>Gestão de Documentos</h2>
                    <button class="btn btn--primary" onclick="openModal('document-modal')">
                        <i class="fas fa-upload"></i>
                        Adicionar Documento
                    </button>
                </div>

                <!-- Documents Grid -->
                <div class="documents-grid" id="documents-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
<!-- PÁGINA DE CREDENCIAMENTO - FORMULÁRIO 11 -->
<!-- Adicione este bloco ao seu index.html junto das outras páginas -->

<div id="credenciamento" class="page">
    <div class="cred-header">
        <h1><i class="fas fa-id-badge"></i> Renovação de CRD para Titular</h1>
        <p class="cred-subtitle">Preenchimento de Dados Iniciais pela Embaixada</p>
    </div>

    <div class="cred-wrapper">
        <!-- Indicador de Etapa -->
        <div class="etapa-indicator">
            <span class="etapa-badge active">Etapa 1: Embaixada</span>
            <span class="etapa-text">Interface da Embaixada para preenchimento inicial</span>
        </div>

        <!-- Formulário Principal -->
        <form id="form-credenciamento" class="cred-form">

            <!-- ========================================
                 SEÇÃO 1: NOTA VERBAL (OBRIGATÓRIO)
                 ======================================== -->
            <div class="form-section">
                <h2><i class="fas fa-file-contract"></i> Nota Verbal</h2>
                
                <div class="form-group">
                    <label for="nota-verbal">
                        <i class="fas fa-file-alt"></i> Nota Verbal <span class="req-badge">Obrigatório</span>
                    </label>
                    <input type="text" id="nota-verbal" name="nota_verbal" required 
                           placeholder="Ex: Nota Verbal nº 123/2025, de 15 de outubro de 2025">
                    <small>Número e data da nota verbal oficial</small>
                </div>

                <div class="form-group">
                    <label for="anexo-nota">
                        <i class="fas fa-paperclip"></i> Anexo - Nota Verbal <span class="req-badge">Obrigatório</span>
                    </label>
                    <div class="file-upload">
                        <input type="file" id="anexo-nota" name="anexo_nota" required accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
                        <div class="file-upload-content">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique ou arraste o arquivo aqui</p>
                            <small>PDF, JPG, PNG ou DOC (máx. 5MB)</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========================================
                 SEÇÃO 2: ENDEREÇO / MORA NA EMBAIXADA
                 ======================================== -->
            <div class="form-section">
                <h2><i class="fas fa-home"></i> Dados de Residência</h2>
                
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="mora-embaixada" name="mora_embaixada">
                        <span class="checkmark"></span>
                        <span>Mora na Embaixada?</span>
                    </label>
                    <small>Se marcado, o endereço será extraído da nota verbal</small>
                </div>

                <div class="form-group" id="endereco-group" style="display: none;">
                    <label for="endereco-atual">
                        <i class="fas fa-map-marker-alt"></i> Endereço Atual <span class="req-badge">Obrigatório</span>
                    </label>
                    <input type="text" id="endereco-atual" name="endereco_atual" 
                           placeholder="Ex: Avenida Paulista, 1000, apto 501, São Paulo - SP">
                    <small>Preencha apenas se não mora na embaixada</small>
                </div>
            </div>

            <!-- ========================================
                 SEÇÃO 3: VISTO
                 ======================================== -->
            <div class="form-section">
                <h2><i class="fas fa-passport"></i> Informações de Visto</h2>
                
                <div class="form-group">
                    <label>
                        <i class="fas fa-check-circle"></i> Status do Visto <span class="req-badge">Obrigatório</span>
                    </label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="visto_status" value="isento" checked>
                            <span class="radio-custom"></span>
                            <span>Isento</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="visto_status" value="nao-isento">
                            <span class="radio-custom"></span>
                            <span>Não Isento</span>
                        </label>
                    </div>
                </div>

                <!-- Campos do Visto (aparecem se "Não Isento") -->
                <div id="visto-fields" style="display: none;">
                    <div class="form-group">
                        <label for="tipo-visto">
                            <i class="fas fa-user-tag"></i> Tipo do Visto <span class="req-badge">Obrigatório</span>
                        </label>
                        <input type="text" id="tipo-visto" name="tipo_visto" 
                               placeholder="Ex: Visto de Trabalho, Visto Permanente">
                    </div>

                    <div class="form-group">
                        <label for="num-visto">
                            <i class="fas fa-hashtag"></i> Número do Visto <span class="req-badge">Obrigatório</span>
                        </label>
                        <input type="text" id="num-visto" name="num_visto" 
                               placeholder="Ex: 123456789">
                    </div>

                    <div class="form-group">
                        <label for="val-visto">
                            <i class="fas fa-calendar-alt"></i> Data de Validade do Visto <span class="req-badge">Obrigatório</span>
                        </label>
                        <input type="date" id="val-visto" name="val_visto">
                    </div>

                    <div class="form-group">
                        <label for="anexo-visto">
                            <i class="fas fa-paperclip"></i> Anexo - Cópia do Visto <span class="req-badge">Obrigatório</span>
                        </label>
                        <div class="file-upload">
                            <input type="file" id="anexo-visto" name="anexo_visto" accept=".pdf,.jpg,.jpeg,.png">
                            <div class="file-upload-content">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Clique ou arraste o arquivo aqui</p>
                                <small>PDF, JPG ou PNG (máx. 5MB)</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========================================
                 SEÇÃO 4: PASSAPORTE
                 ======================================== -->
            <div class="form-section">
                <h2><i class="fas fa-book"></i> Dados do Passaporte</h2>
                
                <div class="form-group">
                    <label for="tipo-passaporte">
                        <i class="fas fa-folder-open"></i> Tipo do Passaporte <span class="req-badge">Obrigatório</span>
                    </label>
                    <select id="tipo-passaporte" name="tipo_passaporte" required>
                        <option value="">-- Selecione o tipo --</option>
                        <option value="diplomático">Diplomático</option>
                        <option value="oficial">Oficial</option>
                        <option value="ordinário">Ordinário</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="num-passaporte">
                        <i class="fas fa-hashtag"></i> Número do Passaporte <span class="req-badge">Obrigatório</span>
                    </label>
                    <input type="text" id="num-passaporte" name="num_passaporte" required 
                           placeholder="Ex: AB123456">
                </div>

                <div class="form-group">
                    <label for="val-passaporte">
                        <i class="fas fa-calendar-alt"></i> Data de Validade do Passaporte <span class="req-badge">Obrigatório</span>
                    </label>
                    <input type="date" id="val-passaporte" name="val_passaporte" required>
                </div>

                <div class="form-group">
                    <label for="anexo-passaporte">
                        <i class="fas fa-paperclip"></i> Anexo - Cópia do Passaporte <span class="req-badge">Obrigatório</span>
                    </label>
                    <div class="file-upload">
                        <input type="file" id="anexo-passaporte" name="anexo_passaporte" required accept=".pdf,.jpg,.jpeg,.png">
                        <div class="file-upload-content">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique ou arraste o arquivo aqui</p>
                            <small>PDF, JPG ou PNG (máx. 5MB)</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========================================
                 AÇÕES
                 ======================================== -->
            <div class="form-actions">
                <button type="reset" class="btn-secondary">
                    <i class="fas fa-redo"></i> Limpar Formulário
                </button>
                <button type="submit" class="btn-primary">
                    <i class="fas fa-paper-plane"></i> Mandar para Análise
                </button>
            </div>

            <!-- Informação importante -->
            <div class="info-box">
                <i class="fas fa-info-circle"></i>
                <p><strong>Importante:</strong> Todos os campos marcados como "Obrigatório" devem ser preenchidos. O sistema validará os dados antes do envio para análise.</p>
            </div>
        </form>
    </div>
</div>
            <!-- PÁGINA DE GESTÃO DE VEÍCULOS -->
<div id="vehicles" class="page">
    <div class="page-header">
        <div>
            <h1><i class="fas fa-car"></i> Gestão de Veículos Diplomáticos</h1>
            <p class="page-description">Controle completo de veículos diplomáticos e consulares</p>
        </div>
        <div class="header-actions">
            <button class="btn-primary" onclick="openVehicleModal()">
                <i class="fas fa-plus"></i> Novo Veículo
            </button>
            <button class="btn-secondary" onclick="exportVehiclesToCSV()">
                <i class="fas fa-file-export"></i> Exportar CSV
            </button>
        </div>
    </div>

    <!-- Estatísticas -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
                <i class="fas fa-car"></i>
            </div>
            <div class="stat-info">
                <h3 id="total-vehicles">0</h3>
                <p>Total de Veículos</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
                <h3 id="active-vehicles">0</h3>
                <p>Veículos Ativos</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon" style="background: rgba(168, 85, 247, 0.1); color: #a855f7;">
                <i class="fas fa-ship"></i>
            </div>
            <div class="stat-info">
                <h3 id="imported-vehicles">0</h3>
                <p>Importados</p>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon" style="background: rgba(249, 115, 22, 0.1); color: #f97316;">
                <i class="fas fa-flag"></i>
            </div>
            <div class="stat-info">
                <h3 id="national-vehicles">0</h3>
                <p>Nacionais</p>
            </div>
        </div>
    </div>

    <!-- Filtros e Busca -->
    <div class="filters-section">
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="search-vehicles" placeholder="Buscar por nome, veículo, placa ou chassi..." onkeyup="searchVehicles()">
        </div>

        <div class="filters-row">
            <div class="filter-group">
                <label for="filter-pais">País:</label>
                <input type="text" id="filter-pais" placeholder="Filtrar por país">
            </div>

            <div class="filter-group">
                <label for="filter-status">Status:</label>
                <select id="filter-status">
                    <option value="">Todos</option>
                    <option value="Ativo">Ativo</option>
                    <option value="Em Análise">Em Análise</option>
                    <option value="Baixado">Baixado</option>
                    <option value="Pendente">Pendente</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="filter-origem">Origem:</label>
                <select id="filter-origem">
                    <option value="">Todos</option>
                    <option value="Importado">Importado</option>
                    <option value="Nacional">Nacional</option>
                </select>
            </div>

            <div class="filter-actions">
                <button class="btn-primary btn-sm" onclick="applyVehicleFilters()">
                    <i class="fas fa-filter"></i> Filtrar
                </button>
                <button class="btn-secondary btn-sm" onclick="resetVehicleFilters()">
                    <i class="fas fa-redo"></i> Limpar
                </button>
            </div>
        </div>
    </div>

    <!-- Lista de Veículos -->
    <div id="vehicles-list" class="vehicles-grid">
        <!-- Veículos serão renderizados aqui via JavaScript -->
    </div>
</div>

<!-- MODAL DE ADICIONAR/EDITAR VEÍCULO -->
<div id="vehicle-modal" class="modal hidden">
    <div class="modal-content modal-large">
        <div class="modal-header">
            <h2 id="modal-title"><i class="fas fa-car"></i> Adicionar Novo Veículo</h2>
            <button class="modal-close" onclick="closeVehicleModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <form id="vehicle-form" onsubmit="event.preventDefault(); saveVehicle();">
            <div class="modal-body">
                <input type="hidden" id="vehicle-id">

                <div class="form-grid">
                    <!-- País -->
                    <div class="form-group">
                        <label for="vehicle-pais">
                            <i class="fas fa-flag"></i> País *
                        </label>
                        <input type="text" id="vehicle-pais" required placeholder="Ex: França, Alemanha, Japão">
                    </div>

                    <!-- Nome -->
                    <div class="form-group">
                        <label for="vehicle-nome">
                            <i class="fas fa-user"></i> Nome do Responsável *
                        </label>
                        <input type="text" id="vehicle-nome" required placeholder="Ex: Embaixador João Silva">
                    </div>

                    <!-- Veículo -->
                    <div class="form-group">
                        <label for="vehicle-veiculo">
                            <i class="fas fa-car"></i> Veículo *
                        </label>
                        <input type="text" id="vehicle-veiculo" required placeholder="Ex: Mercedes-Benz S-Class 2024">
                    </div>

                    <!-- Chassi -->
                    <div class="form-group">
                        <label for="vehicle-chassi">
                            <i class="fas fa-hashtag"></i> Chassi/GED *
                        </label>
                        <input type="text" id="vehicle-chassi" required placeholder="Ex: WDD2220341A123456">
                    </div>

                    <!-- Placa -->
                    <div class="form-group">
                        <label for="vehicle-placa">
                            <i class="fas fa-id-card"></i> Placa *
                        </label>
                        <input type="text" id="vehicle-placa" required placeholder="Ex: CD 0001">
                    </div>

                    <!-- Processo -->
                    <div class="form-group">
                        <label for="vehicle-processo">
                            <i class="fas fa-folder-open"></i> Processo *
                        </label>
                        <input type="text" id="vehicle-processo" required placeholder="Ex: 2025/CGPI/VEI/0015">
                    </div>

                    <!-- Data de Entrada -->
                    <div class="form-group">
                        <label for="vehicle-entrada">
                            <i class="fas fa-calendar-alt"></i> Data de Entrada *
                        </label>
                        <input type="date" id="vehicle-entrada" required>
                    </div>

                    <!-- Origem -->
                    <div class="form-group">
                        <label for="vehicle-origem">
                            <i class="fas fa-shipping-fast"></i> Origem *
                        </label>
                        <select id="vehicle-origem" required>
                            <option value="">Selecione...</option>
                            <option value="Importado">Importado</option>
                            <option value="Nacional">Nacional</option>
                        </select>
                    </div>

                    <!-- Data de Saída -->
                    <div class="form-group">
                        <label for="vehicle-saida">
                            <i class="fas fa-sign-out-alt"></i> Data de Saída
                        </label>
                        <input type="date" id="vehicle-saida">
                    </div>

                    <!-- Status -->
                    <div class="form-group">
                        <label for="vehicle-status">
                            <i class="fas fa-info-circle"></i> Status *
                        </label>
                        <select id="vehicle-status" required>
                            <option value="">Selecione...</option>
                            <option value="Ativo">Ativo</option>
                            <option value="Em Análise">Em Análise</option>
                            <option value="Baixado">Baixado</option>
                            <option value="Pendente">Pendente</option>
                        </select>
                    </div>

                    <!-- GED/SEI -->
                    <div class="form-group">
                        <label for="vehicle-ged">
                            <i class="fas fa-file-alt"></i> GED/SEI *
                        </label>
                        <input type="text" id="vehicle-ged" required placeholder="Ex: SEI-12345/2025">
                    </div>

                    <!-- E-mail Remetente -->
                    <div class="form-group">
                        <label for="vehicle-email">
                            <i class="fas fa-envelope"></i> E-mail Remetente *
                        </label>
                        <input type="email" id="vehicle-email" required placeholder="Ex: embaixada@exemplo.com">
                    </div>

                    <!-- Observação -->
                    <div class="form-group full-width">
                        <label for="vehicle-observacao">
                            <i class="fas fa-sticky-note"></i> Observação
                        </label>
                        <textarea id="vehicle-observacao" rows="3" placeholder="Informações adicionais sobre o veículo"></textarea>
                    </div>

                    <!-- OBS Adicional -->
                    <div class="form-group full-width">
                        <label for="vehicle-obs">
                            <i class="fas fa-comment"></i> OBS Adicional
                        </label>
                        <textarea id="vehicle-obs" rows="3" placeholder="Observações complementares"></textarea>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="closeVehicleModal()">
                    <i class="fas fa-times"></i> Cancelar
                </button>

                <button type="submit" class="btn-primary">
                     <i class="fas fa-save"></i> Salvar Veículo
                </button>
              </div>
        </form>
   </div>
 </div>
            <!-- Automations Page -->
            <div id="automations" class="page">
                <div class="page-header">
                    <h2>Automações e Macros</h2>
                    <button class="btn btn--primary" onclick="openModal('automation-modal')">
                        <i class="fas fa-plus"></i>
                        Nova Automação
                    </button>
                </div>

                <!-- Automations Grid -->
                <div class="automations-grid" id="automations-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics" class="page">
                <div class="page-header">
                    <h2>Analytics e Relatórios</h2>
                    <button class="btn btn--secondary">
                        <i class="fas fa-download"></i>
                        Exportar Relatório
                    </button>
                </div>

                <!-- Analytics Charts -->
                <div class="analytics-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Mês</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card__header">
                            <h3>Processos por Tipo</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="typeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings" class="page">
                <div class="page-header">
                    <h2>Configurações</h2>
                </div>

                <!-- Settings Content -->
                <div class="settings-grid">
                    <div class="card">
                        <div class="card__header">
                            <h3>Usuários do Sistema</h3>
                        </div>
                        <div class="card__body">
                            <div class="users-list" id="users-list">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card__header">
                            <h3>Logs de Auditoria</h3>
                        </div>
                        <div class="card__body">
                            <div class="audit-logs">
                                <div class="log-entry">
                                    <span class="log-time">08/10/2025 10:30</span>
                                    <span class="log-action">Processo criado</span>
                                    <span class="log-user">Maria Silva</span>
                                </div>
                                <div class="log-entry">
                                    <span class="log-time">08/10/2025 09:15</span>
                                    <span class="log-action">Documento aprovado</span>
                                    <span class="log-user">João Santos</span>
                                </div>
                                <div class="log-entry">
                                    <span class="log-time">07/10/2025 16:45</span>
                                    <span class="log-action">Automação executada</span>
                                    <span class="log-user">Sistema</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Process Modal -->
    <div id="process-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Novo Processo</h3>
                <button class="modal-close" onclick="closeModal('process-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="process-form">
                    <div class="form-group">
                        <label class="form-label">Título do Processo</label>
                        <input type="text" class="form-control" id="process-title" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="process-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Carteira Diplomática">Carteira Diplomática</option>
                            <option value="Visto">Visto</option>
                            <option value="Imunidade">Imunidade</option>
                            <option value="Registro">Registro</option>
                            <option value="Placa Diplomática">Placa Diplomática</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Prioridade</label>
                        <select class="form-control" id="process-priority" required>
                            <option value="">Selecione a prioridade</option>
                            <option value="Alta">Alta</option>
                            <option value="Média">Média</option>
                            <option value="Baixa">Baixa</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Responsável</label>
                        <select class="form-control" id="process-assignee" required>
                            <option value="">Selecione o responsável</option>
                            <option value="Maria Silva">Maria Silva</option>
                            <option value="João Santos">João Santos</option>
                            <option value="Ana Costa">Ana Costa</option>
                            <option value="Carlos Lima">Maik Lima</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('process-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitProcess()">Criar Processo</button>
            </div>
        </div>
    </div>

    <!-- Document Modal -->
    <div id="document-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Documento</h3>
                <button class="modal-close" onclick="closeModal('document-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="document-form">
                    <div class="form-group">
                        <label class="form-label">Nome do Documento</label>
                        <input type="text" class="form-control" id="document-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="document-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Passaporte">Passaporte</option>
                            <option value="Credencial">Credencial</option>
                            <option value="Certidão">Certidão</option>
                            <option value="Contrato">Contrato</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Arquivo</label>
                        <input type="file" class="form-control" id="document-file" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('document-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitDocument()">Adicionar Documento</button>
            </div>
        </div>
    </div>

    <!-- Automation Modal -->
    <div id="automation-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Automação</h3>
                <button class="modal-close" onclick="closeModal('automation-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="automation-form">
                    <div class="form-group">
                        <label class="form-label">Nome da Automação</label>
                        <input type="text" class="form-control" id="automation-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-control" id="automation-type" required>
                            <option value="">Selecione o tipo</option>
                            <option value="Validação">Validação</option>
                            <option value="Geração">Geração</option>
                            <option value="Notificação">Notificação</option>
                            <option value="Backup">Backup</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" onclick="closeModal('automation-modal')">Cancelar</button>
                <button class="btn btn--primary" onclick="submitAutomation()">Criar Automação</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <!-- Firebase config and app -->
    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
</body>
</html>